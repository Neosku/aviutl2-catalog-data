# PixelSorter_K

## 概要

**PixelSorter_K** は、画像や映像にグリッチ（崩れ）風のエフェクトをかけるスクリプトです。
ピクセルを明るさや色に応じて“流すように並べ替える”ことで、映像がデジタル的に崩れるような独特の表現を作ることができます。
アート風の演出やノイズ感を出したいときに便利です。

> [!CAUTION]
> beta17以降必須．
> 
---

## 使用法

**場所：** オブジェクト追加ボタン → 加工 → PixelSorter_K

（※初期設定では「加工」にありますが、「オブジェクト追加メニューの設定」から任意のラベルに変更できます）

---

## 使い方

### 基本

「PixelSorter_K」を画像や動画のオブジェクトに追加すると、ピクセルを設定に応じて並べ替え、部分的に崩れたような効果を作ります。
パラメータを調整することで、どの方向にどの程度ソートするか、またどんな部分を対象にするかを自由にコントロールできます。

---

### 各パラメータの説明

| 項目名                     | 説明                                                                                                                                                                                                                                                                                                                                                                                                                 |
| :---------------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Sort By**             | ピクセルを並べ替える基準を選びます。<br><br>**・Luminance (BT.601 / BT.709 / BT.2020)**<br>ピクセルの「明るさ（輝度）」を使って効果を出します。規格ごとに明るさの感じ方が少し異なります。<br/>　・**BT.601**：標準画質の映像向け。少し暖かみのある明るさ。<br>　・**BT.709**：HD映像で一般的。自然で見やすい明るさ。<br/>　・**BT.2020**：4K・8KなどのHDR映像向け。より広い色表現に対応。<br><br>**・RGB Average**：RGBの平均値で処理。全体の明るさで効果を出します。<br>**・RGB Product**：RGBを掛け合わせた値で処理。暗部の差が強調されます。<br>**・RGB Minimum / Maximum**：RGBの最小・最大値を基準に処理。極端な色の部分を強調できます。 |
| **Sort From / Sort To** | 効果をかける範囲を設定します。指定した値の範囲内のピクセルだけがソートされます。                                                                                                                                                                                                                                                                                                                                                                           |
| **Direction**           | エフェクトの流れる方向を角度で指定します。<br>例：0°＝横方向、90°＝縦方向。                                                                                                                                                                                                                                                                                                                                                                         |
| **Color Space**         | 色の計算方法を選びます。<br>・**Linear**：そのままの色データで処理。<br>・**sRGB**：見た目の明るさに近い形で処理。                                                                                                                                                                                                                                                                                                                                             |
| **Mask**                | オンにすると、効果をかけた部分だけを描画します。                                                                                                                                                                                                                                                                                                                                                                                           |
| **PI（パラメータインジェクション）**   | スクリプトを外部から制御するための設定です。通常の使用では触らなくて構いません。                                                                                                                                                                                                                                                                   