# 概要
オブジェクトを“立体的”に表示するためのスクリプト

# 使用方法
オブジェクト設定の＋ボタン→加工
から、3D表示@立体化(g)もしくはコントローラー@立体化(g)を選択して追加することで追加できる。
3D表示@立体化(g)は立体化（厚み付けや側面処理）を行う部分で、コントローラー@立体化(g)は側面画像の加工（ぼかし・不透明化・シフト調整など）を補助する役割を持つ

---

## 3D表示＠立体化(g)

| 項目                                 | 説明                                                                                                      |
| ---------------------------------- | ------------------------------------------------------------------------------------------------------- |
| **厚み** (`length`)                  | 奥行き方向にどれだけ押し出すか（立体の厚さ）。単位はおおよそピクセル相当。                                                                   |
| **XY拡大率** (`size`)                 | 平面画像の拡大率。XY平面上での倍率を調整。                                                                                  |
| **0秒時点で取得した輪郭データで固定する** (`bcache`) | 最初のフレームで抽出した輪郭データをキャッシュし、それ以降は再計算しない。高速化や形状固定に利用。                                                       |
| **参照輪郭ぼかし** (`preblur`)            | 輪郭抽出前に画像をぼかして、滑らかな輪郭線を得るための強さ。                                                                          |
| **α閾値** (`a_th`)                   | 輪郭を判定するためのアルファ値のしきい値。透過部分との境界判定に使用。                                                                     |
| **裏面を表示しない** (`culling`)           | 押し出した立体の裏側（カメラから見えない面）を描画しない設定。                                                                         |
| **前後面を表示しない** (`bonly`)            | 押し出し前後の平面（表と裏）を描画しない。側面のみを表示するときに使用。                                                                    |
| **側面タイプ** (`btype`)                | 側面の描画方法を選択：<br>1. 正面画像をそのまま奥行き方向へ引き延ばす<br>2. 画像の縦方向を奥行き、横を角度方向としてマッピング<br>3. 画像の縦方向を奥行き、横を周囲長に沿わせてマッピング |
| **側面塗潰し** (`col`)                  | 側面を単色で塗りつぶす色指定。未指定の場合は側面画像マッピングが使われる。                                                                   |
| **スムージング角度** (`smooth`)            | 輪郭の角度変化がこの角度以下なら滑らかに補間する。ポリゴンの角の処理を滑らかにするパラメータ。                                                         |
| **直線判定閾値** (`isline`)              | 輪郭の近接点が直線上かどうかを判定するための閾値（外積のしきい値）。数値が小さいほど直線扱いになりやすい。                                                   |
| **輪郭画像のみ表示** (`debug`)             | 輪郭抽出結果だけを表示して確認するデバッグ用モード。出力時は自動的にOFFになる。                                                               |

---

## コントローラー＠立体化(g)

| 項目                                       | 説明                                          |
| ---------------------------------------- | ------------------------------------------- |
| **画像を登録する** (`save_cache`)               | 現在の画像を一時的にキャッシュする。同一フレーム内で他処理に使うとき用。        |
| **登録画像を読み込む** (`load_cache`)             | キャッシュされた画像を読み出す。透明処理を挟むと順序が乱れるので注意が記載あり。    |
| **ぼかし** (`smooth`)                       | 画像全体をぼかす処理の強さ。数値が大きいほど強くぼかされる。              |
| **側面画像を不透明にする** (`a_sat`)                | 側面画像のアルファ成分を無視し、完全不透明に変換する。                 |
| **X方向シフト** (`shift`)                     | 側面テクスチャをX方向にずらす量。数値はピクセル単位。                 |
| **サブピクセル単位でのX方向シフトを有効にする** (`shift_sub`) | X方向シフトを整数ではなく小数（サブピクセル精度）で行う。より滑らかな位置調整が可能。 |

---
